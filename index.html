<html>
<head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-3040801-13"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-3040801-13');
</script>

<title>let me gangsta that for you</title>

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<style>
    body {
        font-size: 36px;
    }
    .topleft {
        position: absolute;
        top: 0px;
        left: 0px;
    }

    .sunglasses {
        position: absolute;
        top: -200px;
        left: 100px;
    }

    .sunglasses-below {
        top: 200px;
        transition: top 6s;
    }
</style>
</head>
<body>
    <div id="the-form" style="display: none; font-size: 36px; margin-top: 100px; margin-left: auto; margin-right: auto;">
        <h1>let me gangsta that for you</h1>
        <form method="get" action="?">
            Paste an image URL:<br>
            <input name="u" size="50" style="font-size: 36px" required><br>
            <input type="submit" value="Go" style="width: 100px; height: 40px; margin-top: 10px">
        </form>
    </div>
    <div id="the-result" style="display: none">
        <img id="user-submitted-image" class="topleft" style="height: 700px; min-width: 660; z-index: 10001">
        <button id="mobile-go-button" style="z-index: 10002; font-size: 80px; position: absolute; top: 50px; left: 50px; border: 3px solid black; padding: 10px; display: none;">go go gangsta</button>
        <img id="sunglasses" src="sunglasses.png" class="topleft sunglasses" style="height: 100px; z-index: 10001; display: none;">
        
        <div class="topleft" id="player"></div>
        <!--<iframe class="topleft" width="660" height="400" src="https://www.youtube.com/embed/6IJCFc_qkHw?&autoplay=1" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>-->

        <div style="position: absolute; bottom: 50px;"><a href="index.html">start over</a></div>
    </div>

<script>
    function isMobile() {
        return ( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) );
    }

    function animateEverything() {
        $("#mobile-go-button").hide();
        $("#sunglasses").show();
        $("#sunglasses").addClass('sunglasses-below');
        setTimeout(function() {
            $("#user-submitted-image").fadeOut(3000);
        }, 10000);
    }

    var urlParams = new URLSearchParams(window.location.search);
    if (!urlParams.has('u')) {
        $("#the-result").remove();
        $("#the-form").css('display', 'block');
    }
    else {
        $("#the-form").remove();
        $("#the-result").css('display', 'block');
        $("#mobile-go-button").click(function() { player.playVideo(); animateEverything() });
        if (!isMobile()) {
            setTimeout(function() {
                animateEverything();
            }, 1000);
        }
        
    }
    $("#user-submitted-image").attr('src', decodeURI(urlParams.get('u')));
</script>

<!-- 1. The <iframe> (video player) will replace this <div> tag. -->

    <script>
      // 2. This code loads the IFrame Player API code asynchronously.
      var tag = document.createElement('script');
    
      tag.src = "https://www.youtube.com/iframe_api";
      var firstScriptTag = document.getElementsByTagName('script')[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
    
      // 3. This function creates an <iframe> (and YouTube player)
      //    after the API code downloads.
      var player;
      function onYouTubeIframeAPIReady() {
        player = new YT.Player('player', {
          height: '390',
          width: '640',
          videoId: '6IJCFc_qkHw',
          events: {
            'onReady': onPlayerReady,
            'onStateChange': function() {}
          }
        });

        if (isMobile()) {
            $("#mobile-go-button").show();
        }
      }
    
      // 4. The API will call this function when the video player is ready.
      function onPlayerReady(event) {
        event.target.playVideo();
      }
    
    </script>

</body>
</html>